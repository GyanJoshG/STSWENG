<nav class="navbar">
    <img src="images/logofinal.png" alt="Logo">
    <div id="navbar" class="nav-links"> 
        <a href="/">Home</a>
        <a id="log" 
        {{#if isLogin}}
        href="login">Login</a>
        {{else}}
        href="#">Logout</a>
        {{/if}}
    </div>
    <div class="nav-icons"></div>
        <a href="/profile" class="profile-link">
            <div class="profile-circle">
                <img src="images/Profile.png" alt="Profile">
            </div>
        </a>
    </div>
</nav>

<div class="container">
    <h1>Your Cart</h1>
    <div id="cart-content">
        {{#each cart}}
            <div class="cart-item" id="cart-item-{{this.name}}">
                <h3>{{this.name}}</h3>
                <p>Price: ₱{{this.price}}</p>
                <p>
                    <button class="quantity-btn" onclick="updateQuantity('{{this.name}}', -1)">-</button>
                    <span id="quantity-{{this.name}}">{{this.quantity}}</span>
                    <button class="quantity-btn" onclick="updateQuantity('{{this.name}}', 1)">+</button>
                </p>
            </div>
        {{else}}
            <p>Your cart is empty.</p> 
        {{/each}}
    </div>
    <div id="cart-total">
        <h2>Total: ₱<span id="total-amount">{{total}}</span></h2>
    </div>
    <button id="checkout-btn" class="btn">Proceed to Checkout</button>

    <!-- Modal for Checkout -->
    <div id="checkout-modal" class="modal">
        <div class="modal-content">
            <h2>Checkout</h2>
            <form id="shipping-form"></form>
            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" required>

            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" required>

            <label for="phoneNumber">Phone Number:</label>
            <input type="text" id="phoneNumber" name="phoneNumber" required>

            <fieldset>
                <legend>Address:</legend>
                <label for="street">Street:</label>
                <input type="text" id="street" name="street" required>

                <label for="city">City:</label>
                <input type="text" id="city" name="city" required>

                <label for="state">State:</label>
                <input type="text" id="state" name="state" required>

                <label for="zipCode">Zip Code:</label>
                <input type="text" id="zipCode" name="zipCode" required>
            </fieldset>

            <label for="paymentMethod">Preferred Payment Method:</label>
            <select id="paymentMethod" name="paymentMethod">
                <option value="Gcash">Gcash</option>
                <option value="Cash on Delivery">Cash on Delivery</option>
            </select>
            <p></p>
            <button id="proceed-btn">Proceed</button>

            <!-- Second Modal for QR Code or Confirmation Message -->
            <div id="proceed-modal" class="modal">
                <div class="modal-content">
                    <div id="qr-code-section" style="display: none;">
                        <h3>Scan QR Code</h3>
                        <h3>Total: ₱<span id="total-amount">{{total}}</span></h3>
                        <p>Please pay the appropriate amount before confirming</p>
                        <p>Thank you!</p>
                        <img src="https://via.placeholder.com/200x200?text=QR+Code" alt="QR Code">
                    </div>
                    <div id="confirmation-section" style="display: none;">
                        <h3>Order Confirmation</h3>
                        <h3>Total: ₱<span id="total-amount">{{total}}</span></h3>
                        <p>Please press confirm to finalize your order</p>
                        <p>Thank you!</p>
                    </div>
                    <button id="close-proceed-modal">Back</button>
                    <button id="confirm-btn">Confirm</button>
                </div>
            </div>
        </div>
    </div>
    
</div>

